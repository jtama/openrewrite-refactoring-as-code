
[.transparency.no-transition]
== Declarative recipes

image::declarative.jpg[background, size=cover]

[.notes]
--
Une recette d√©clarative est en fait juste un format de d√©claration de recette sans avoir √† √©crire du code.
--


[%notitle.transparency]
=== Et √ßa ressemble √† ?

image::declarative.jpg[background, size=cover]

[source%linenums,yaml,highlight="3|4..10|13..17|12|20|26..28|29..32"]
.rewrite.yml
----
---
type: specs.openrewrite.org/v1beta/recipe
name: com.github.jtama.openrewrite.RedIsDead
displayName: Removes that toxic dependency
description: |
  Migrate from AcmeToxic ‚ò†Ô∏è to AcmeHealthy üòá,
  removes dependencies and migrates code.
tags:
  - acme
  - toxic
recipeList:
  - com.github.jtama.openrewrite.CaVaCouperCherie
  - org.openrewrite.maven.RemoveDependency:
      groupId: com.github.jtama
      artifactId: toxic-library
  - org.openrewrite.maven.RemoveUnusedProperties:
      propertyPattern: .*toxic\.version
---
type: specs.openrewrite.org/v1beta/recipe
name: com.github.jtama.openrewrite.CaVaCouperCherie
displayName: √áa va vous √©pater
description: |
  Rech. proj. pr proj. priv. Self Dem. Brt. Poss. S‚Äôadr. √† l‚Äôh√¥. Mart
tags:
  - acme
preconditions:
  - org.openrewrite.java.search.FindTypes:
      fullyQualifiedTypeName: com.github.jtama.toxic.FooBarUtils
recipeList:
    - org.openrewrite.java.ChangeMethodTargetToStatic:
          methodPattern: com.github.jtama.toxic.BigDecimalUtils valueOf(..)
          fullyQualifiedTargetTypeName: java.math.BigDecimal
----

[.notes]
--
On va cr√©er une recette declarative qui permet de supprimer une d√©pendance toxique.
Et on imagine ici que la derni√®re recette est accessible ailleurs.

√Ä la racine d'un projet.
Dans le r√©pertoire `META-INF/rewrite`
Attention, pas `yaml`
Et puis un coup de mvn run
--

[.no-transition.transparency.blur-background]
=== Distribution

image::declarative.jpg[background, size=cover]
Inclure ce fichier dans un module maven fant√¥me...


[.columns.transparency]
=== !

image::title.jpg[background, size=cover]
[.column.is-one-third]
--
image::permis_de_refactoring.png[]
--

[.column]
--
- ‚úÖ Vue d'ensemble du v√©hicule
- ‚úÖ Savoir d√©marrer le v√©hicule
- ‚úÖ Savoir lire une carte
- ‚úÖ Savoir conduire en ville
--